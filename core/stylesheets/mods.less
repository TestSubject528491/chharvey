// main: all.less

/*-------------*\
	mods.less
\*-------------*/

//Table of Contents
//- ABSTRACT BOXES
//- HYPERLINKS
//- CODING AND MATH
//- MESSAGES
//- FORMS
//- MISC
//- MASTHEAD
//- BREADCRUMBS
//- FOOTNOTES

//===============
//@ABSTRACT BOXES
//===============
.cellpaddingdefault() {
	// * default padding for cell-like structures (table cells, units, boxes, etc.)
	padding: (@olh / 2) (@olh / 2 * @phi1);
}
@box-radius-small:  3px; // 1 + 2
@box-radius-medium: 6px; // 1 + 2 + 3
@box-radius-large: 10px; // 1 + 2 + 3 + 4
.box-inline() {
	// * inline content, boxed
	display: inline;
	padding: 0 2px;
	border: 1px solid;
	border-radius: @box-radius-small;
	white-space: nowrap;
}
.box-block() {
	// * a block structure, boxed
	.cellpaddingdefault();
	.border-vert--both(all; 1px; solid);
	display: block;
	border-radius: @box-radius-large;
	white-space: normal;
}
.spacing-left-phi(@brdr-width; @brdr-style; @brdr-color) {
	// CHANGE THIS CLASSNAME
	padding-left: @brdr-width * @inv-phi1;
	border-left: @brdr-width @brdr-style @brdr-color;
	margin-left: @brdr-width * @inv-phi3;
}
.spacing-left-phi() {
	// CHANGE THIS CLASSNAME
	.spacing-left-phi(0; solid; #000);
}
.spacing-right-phi(@brdr-width; @brdr-style; @brdr-color) {
	// CHANGE THIS CLASSNAME
	padding-right: @brdr-width * @inv-phi1;
	border-right: @brdr-width @brdr-style @brdr-color;
	margin-right: @brdr-width * @inv-phi3;
}
.spacing-right-phi() {
	// CHANGE THIS CLASSNAME
	.spacing-right-phi(0; solid; #000);
}
//==== @end ABSTRACT BOXES ====


//===========
//@HYPERLINKS
//===========
@color-link-up-txt: @atlas;
@color-link-up-bg: lighten(@atlas, @headlt);

@color-link-dn-txt: @pbody;
@color-link-dn-bg: lighten(@pbody, @headlt);

@color-sp-up-txt: @neurotoxin;
@color-sp-up-bg: lighten(@color-sp-up-txt, @headlt);

@color-sp-dn-txt: @vilify;
@color-sp-dn-bg: lighten(@color-sp-dn-txt, @headlt);

@color-link-active-txt: @her-eye;
@color-link-active-bg: @aperture-black;

a {
	display: inline;
	text-decoration: none;
	color: @color-base-faded;
	&[href] {
		color: @color-link-up-txt; // also sets border color
		&:hover {color: @color-link-dn-txt;}
		&.sp,
		&[rel="external"] {
			color: @color-sp-up-txt;
			&:hover {color: @color-sp-dn-txt;}
		}
		&:active {color: @color-link-active-txt;}
	}
	.latex {
		// * math in links not discolored
		color: inherit;
	}
	code {
		// * code in links not discolored
		color: inherit;
		// * no bgcolor for code in link containers
		background-color: transparent;
	}
}
.a-block {
	.box-block();
	border-radius: @box-radius-medium;
	text-align: center;
	&[href] {
		background-color: @color-link-up-bg;
		&:hover {background-color: @color-link-dn-bg;}
		&.sp,
		&[rel="external"] {
			background-color: @color-sp-up-bg;
			&:hover {background-color: @color-sp-dn-bg;}
		}
		&:active {background-color: @color-link-active-bg;}
	}
}
//==== @end HYPERLINKS ====


//================
//@CODING AND MATH
//================
@color-code-txt:  #000;
@color-code-bg:   #ced;
@color-code-comment: #999;
@color-code-html-tag:  #009;
@color-code-html-attr: #900;
@color-code-html-val:  #090;
@color-code-css-sel:   @color-code-html-tag;
@color-code-css-prop:  @color-code-html-attr;
@color-code-css-val:   @color-code-html-val;
@color-code-latex-cmd: @color-code-html-tag;
@color-code-latex-arg: @color-code-html-attr;
pre {white-space: pre-wrap;}
code {
	// * example of a fragment or string of code a computer would recognize
	.box-inline();
	border: 0;
	font-style: normal;
	font-weight: normal;
	font-size: @font-size-small;
	font-family: @font-fam-code;
	color: @color-code-txt;
	background-color: @color-code-bg;
}
.comment {color: @color-code-comment;}
.lang-html {
	.tag       {color: @color-code-html-tag;}
	.attribute {color: @color-code-html-attr;}
	.value     {color: @color-code-html-val;}
}
.lang-css {
	.selector {color: @color-code-css-sel;}
	.property {color: @color-code-css-prop;}
	.value    {color: @color-code-css-val;}
}
.lang-latex {
	.cmd {color: @color-code-latex-cmd;}
	.arg {color: @color-code-latex-arg;}
}
.dir {
	// * directory system (folders and files)
	border: 0;
	font-style: italic;
	font-family: @font-fam-base;
}
pre > code {
	&:extend(code all);
	.box-block();
	.border-vert--both(all; 0);
	.font-size(small);
	white-space: pre-wrap;
	background-color: transparent;
}
.precode:extend(pre > code all) {}
samp {font-family: inherit;}
kbd { 
	// * user input, in the form of a string, menu item, etc.
	font-style: inherit;
	font-weight: bold;
	font-family: inherit;
//	&.write { // what is this?
//		font-family: inherit;
//		&::before {content: open-quote;}
//		&::after  {content: close-quote;}
//	}
	> kbd {
		// * an individual key on a keyboard, calculator, or other device
		&:extend(code all);
		padding: 0 6px;
		border-style: outset;
		font-family: @font-fam-base;
		color: @aperture-white;
		background-color: @aperture-black;
	}
}
.latex {
//	.font-size(small);
	font-family: @font-fam-math;
	white-space: pre-wrap;
	div&, p& {
		// * block-level containers
		overflow: auto;
	}
}
var {font-style: italic;}
.tex {
	//a reminder to change all `<... class="tex">` to `<... class="latex">`
	//a reminder to change all `.tex` to `.latex`
	color: #f00;
	* {color: #f00;}
}
//==== @end CODING AND MATH ====


//=========
//@MESSAGES
//=========
@color-warning-txt: #600;
@color-caution-txt: #660;
@color-success-txt: #060;
@color-info-txt:    #006;
@color-help-txt:    #606;
@color-special-txt:    #066;

@color-warning-brdr: #fcc;
@color-caution-brdr: #ffc;
@color-success-brdr: #cfc;
@color-info-brdr:    #ccf;
@color-help-brdr:    #fcf;
@color-special-brdr:    #cff;

@color-warning-bg: #fee;
@color-caution-bg: #ffe;
@color-success-bg: #efe;
@color-info-bg:    #eef;
@color-help-bg:    #fef;
@color-special-bg:    #eff;

@color-warning-brdr: lighten(@color-warning-txt, @headlt);
@color-caution-brdr: lighten(@color-caution-txt, @headlt);
@color-success-brdr: lighten(@color-success-txt, @headlt);
@color-info-brdr: lighten(@color-info-txt, @headlt);
@color-help-brdr: lighten(@color-help-txt, @headlt);
@color-special-brdr: lighten(@color-special-txt, @headlt);
@color-warning-bg: lighten(@color-warning-brdr, @headlt);
@color-caution-bg: lighten(@color-caution-brdr, @headlt);
@color-success-bg: lighten(@color-success-brdr, @headlt);
@color-info-bg: lighten(@color-info-brdr, @headlt);
@color-help-bg: lighten(@color-help-brdr, @headlt);
@color-special-bg: lighten(@color-special-brdr, @headlt);

.message {
	&:extend(.row all);
	.width--sml();
	.box-block();
	.font-size(small);
	margin-top: @olh;
	font-style: normal;
	font-weight: normal;
	font-family: @font-fam-accent;
	line-height: 1;
	&::before {
		font-family: @font-fam-code;
//		&:extend(.cell all);
//		&:extend(.dropcap::first-letter all);
//		padding-top: 0;
//		margin-top: -12px;
//		float: left;
	}
}
.message-mx(@color-txt; @color-bg; @color-brdr; @content) {
	color: @color-txt;
	background-color: @color-bg;
	border-color: @color-brdr;
	&::before {
		color: @color-txt;
		content: @content;
	}
}
//eventually find a way to abstract these blocks
.warning {
	&:extend(.message all);
	.message-mx(@color-warning-txt; @color-warning-bg; @color-warning-brdr; '!');
}
.caution {
	&:extend(.message all);
	.message-mx(@color-caution-txt; @color-caution-bg; @color-caution-brdr; '\2026'); // &hellip;
}
.success {
	&:extend(.message all);
	.message-mx(@color-success-txt; @color-success-bg; @color-success-brdr; '\263A'); // smiley
}
.info {
	&:extend(.message all);
	.message-mx(@color-info-txt; @color-info-bg; @color-info-brdr; '?');
}
.help {
	&:extend(.message all);
	.message-mx(@color-help-txt; @color-help-bg; @color-help-brdr; '\2665'); // &hearts;
}
.special {
	&:extend(.message all);
	.message-mx(@color-special-txt; @color-special-bg; @color-special-brdr; '\2605'); // star
}
//==== @end MESSAGES ====


//=========
//@MASTHEAD
//=========
.masthead {
	@iconsize: 96px; // 1in
	&:extend(.p4--right);
	position: fixed;
	top: (@iconsize / 2);
	nav {
		&:extend(.p1--midleft);
		.mylogo {
			display: block;
			.border-vert--one(bottom; 0);
			font-weight: bold;
			font-size: @iconsize;
			font-family: @font-fam-math;
		}
	}
}
//==== @end MASTHEAD ====


//============
//@BREADCRUMBS
//============
.bc {
	&:extend(.gutter-major);
	position: fixed;
	top: 2 * @olh;
	z-index: 1;
	a {
		&:extend(.a-block all);
		padding: (0.125 * @olh) 15px;
		border-radius: 15px;
		text-align: left;
	}
	[rel~="this"] {
		font-weight: bold;
	}
}
.bc-anc,
.bc-sib,
.bc-child {
	&:extend(.list-basic all);
	margin-top: 0;
	padding-bottom: 1 * @olh;
	li {
		margin-top: 0.75 * @olh;
		margin-bottom: -2px;
	}
}
.bc-anc {
//	a::before {content: '\22a5';} // `\bot` or 'up tack'
//	a::before {content: '\22b7';} // 'image of'
//	a::before {content: '<';}
}
.bc-sib {
//	a::before {content: '\22a2';} // `\vdash` or 'turnstile'
//	a::before {content: '\29df';} // 'double-ended multimap'
//	a::before {content: '+';}
}
.bc-child {
//	a::before {content: '\22a4';} // `\top` or 'down tack'
//	a::before {content: '\22b6';} // 'original of'
//	a::before {content: '>';}
}
//==== @end BREADCRUMBS ====


//==========
//@FOOTNOTES
//==========
@fn-width: 1.5em;
.footnotes {
	// * an unordered list containing footnotes
	&:extend(.list-basic);
	.spacing-top-phi(1px; solid; @color-accent);
	.font-size(small);
	li {
		padding-left: @fn-width;
		text-indent: -@fn-width;
	}
}
.fn {
	// * the superscript containing a link to the footnote or back to the reference
	&:extend(sup all);
	width: @fn-width;
	> a {
		&::before {content: '[';}
		&::after {content: ']';}
	}
}
//==== @end FOOTNOTES ====

@media print {
	.masthead {display: none;}
	.warning,
	.caution,
	.success,
	.info,
	.help,
	.special {
		&::before {display: none;}
	}
	code {
		color: #000000;
		background-color: #fff;
	}
}